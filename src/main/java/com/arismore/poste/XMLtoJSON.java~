
package com.arismore.poste;

import java.io.IOException;
import java.io.InputStream;
import java.net.URL;
import org.apache.commons.io.IOUtils;
import org.json.XML;

public class XMLtoJSON {
private URL url = null;
private InputStream inputStream = null;


public void getXMLfromJson() {
try{

url = XMLtoJSON.class.getClassLoader().getResource("/home/mehdi/laposte.xml");
System.out.println("JSON data : " + url.toString());
inputStream = url.openStream();
String xml = IOUtils.toString(inputStream);
System.out.println("XML data : " + xml);

// JSON objJson = new XMLSerializer().read(xml);

org.json.JSONObject objJson = XML.toJSONObject(xml);

System.out.println("JSON data : " + objJson);

}catch(Exception e){
e.printStackTrace();
}finally{
try {
if (inputStream != null) {
inputStream.close();
}
url = null;
} catch (IOException ex) {}
}
}
public static void main(String[] args) {
new XMLtoJsonConverter().getXMLfromJson();
}
}
